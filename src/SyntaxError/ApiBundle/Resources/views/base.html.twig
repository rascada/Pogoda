<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Weather | {{ title }}</title>
        <link rel="stylesheet" href="//highlightjs.org/static/demo/styles/atelier-estuary-dark.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
        <link rel="stylesheet" href="{{ asset('bundles/syntaxerrorapi/css/api.css') }}"/>
        {% block head %}{% endblock %}
    </head>
    {% spaceless %}
    <body>
        <header id="welcome">
            <a href="{{ path('syntax_error_api_basic_now') }}">
                Weather a<span style="font-size: 1.05em; color: #fa8072; margin-right: .1em">Pi</span>- Skalagi, Poland - {{ title }}
            </a>

            <span>
                Get raw json with header <b>X-Requested-With: XMLHttpRequest</b>
            </span>
        </header>


        <main>
            {% block content %}
            <aside>
                <menu>
                    <a href="{{ path('syntax_error_api_basic_now') }}">Basic</a>
                    <a href="{{ path('syntax_error_api_socket') }}">WebSocket</a>
                    <a href="{{ path('syntax_error_api_wu', { 'type': 'forecast' }) }}">Forecast</a>
                    <a href="{{ path('syntax_error_api_wu', { 'type': 'astronomy' }) }}">Astronomy</a>
                    <a href="{{ path('syntax_error_api_day_charts', { 'type': 'outTemp' }) }}">Day charts</a>
                    <a href="{{ path('syntax_error_api_day_records') }}">Day records</a>
                    <a href="{{ path('syntax_error_api_month_charts', { 'type': 'outTemp'}) }}">Month charts</a>
                    <a href="{{ path('syntax_error_api_month_records') }}">Month records</a>
                </menu>
                <article>{% block desc %}{% endblock %}</article>

                <div id="powered-by">
                    <img src="{{ asset('bundles/syntaxerrorapi/images/pi.png') }}"/>
                    <img src="{{ asset('bundles/syntaxerrorapi/images/weewx.png') }}"/>
                    <img src="{{ asset('bundles/syntaxerrorapi/images/mysql.png') }}"/>
                    <img src="{{ asset('bundles/syntaxerrorapi/images/php.png') }}"/>
                </div>
            </aside>


            <pre style="margin-top: 0"><code class="json">{{ json }}</code></pre>
            {% endblock %}
        </main>

    </body>
    {% endspaceless %}
    <script>
        hljs.initHighlightingOnLoad();
        var $code = document.getElementsByTagName('code')[0];
        if($code.className == 'json') {
            var jsonNiceString = JSON.stringify(JSON.parse($code.innerText), null, 2);
            $code.innerHTML = jsonNiceString.replace(/ /g, '\u00a0').replace(/(?:\r\n|\r|\n)/g, '<br />');
        }
    </script>
    {% block js %}{% endblock %}
</html>

